<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuevo Registro Dental - DentalSoft</title>
    <link rel="stylesheet" href="/css/global.css">
    <link rel="stylesheet" href="/css/dashboard.css">
    <link rel="stylesheet" href="/css/create-dental-record.css">
</head>
<body>

    <div id="app-content">
        
        <header style="margin-bottom: 2rem; display: flex; justify-content: space-between; align-items: center;">
            <div>
                <h1 style="color: var(--color-text-main);">Nuevo Registro Clínico</h1>
                <p style="color: var(--color-text-muted);">Diagnóstico, tratamiento y evolución del paciente.</p>
            </div>
            <a href="/patients" class="text-link" style="font-size: 0.9rem;">&larr; Volver a Pacientes</a>
        </header>

        <div id="alert-box" class="alert hidden"></div>

        <div class="form-card">
            <form id="createRecordForm" class="record-grid">
                
                <div class="form-group full-width">
                    <label for="patientSelect" class="input-label">Paciente <span class="required">*</span></label>
                    <select id="patientSelect" class="form-select" required>
                        <option value="">Cargando lista de pacientes...</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="recordType" class="input-label">Tipo de Registro <span class="required">*</span></label>
                    <select id="recordType" class="form-select" required>
                        <option value="general">Consulta General</option>
                        <option value="diagnosis">Diagnóstico Inicial</option>
                        <option value="procedure">Procedimiento / Cirugía</option>
                        <option value="checkup">Revisión Rutinaria</option>
                        <option value="orthodontics">Ortodoncia</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="description" class="input-label">Asunto / Motivo <span class="required">*</span></label>
                    <input type="text" id="description" class="form-input" placeholder="Ej. Dolor en molar superior derecho" required>
                </div>

                <div class="form-group full-width">
                    <label for="diagnosis" class="input-label">Diagnóstico Clínico <span class="required">*</span></label>
                    <textarea id="diagnosis" class="form-textarea" placeholder="Detalle los hallazgos clínicos..." required></textarea>
                </div>

                <div class="form-group full-width">
                    <label for="treatmentPlan" class="input-label">Plan de Tratamiento Sugerido <span class="required">*</span></label>
                    <textarea id="treatmentPlan" class="form-textarea textarea-large" placeholder="Pasos a seguir, medicamentos recetados, procedimientos futuros..." required></textarea>
                </div>

                <div class="form-group full-width">
                    <label for="treatmentNotes" class="input-label">Notas de Evolución / Observaciones</label>
                    <textarea id="treatmentNotes" class="form-textarea" placeholder="Comentarios sobre la sesión actual..."></textarea>
                </div>

                <div class="full-width">
                    <label class="input-label" style="margin-bottom: 0.5rem; display: block;">Información Financiera</label>
                    <div class="cost-section">
                        <div class="form-group">
                            <label for="treatmentCost" class="input-label">Costo del Tratamiento ($)</label>
                            <input type="number" id="treatmentCost" class="form-input" placeholder="0.00" min="0" step="0.01">
                        </div>

                        <div class="form-group">
                            <label for="paymentStatus" class="input-label">Estado del Pago</label>
                            <select id="paymentStatus" class="form-select">
                                <option value="pending">Pendiente</option>
                                <option value="partial">Parcial</option>
                                <option value="paid">Pagado</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-actions full-width">
                    <button type="button" id="btn-cancel" class="btn-secondary">Cancelar</button>
                    <button type="submit" id="btn-save" class="btn-primary">Guardar Expediente</button>
                </div>
            </form>
        </div>

    </div>

    <script src="/js/layout.js"></script>
    <script src="/js/create-dental-record.js"></script>
</body>
</html>